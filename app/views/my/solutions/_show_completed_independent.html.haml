- num_avaliable_core_exercises = @user_track.num_avaliable_core_exercises
- num_avaliable_side_exercises = @user_track.num_avaliable_side_exercises
.completed-section
  .title-block
    %h3
      =icon("check-circle", "checkmark")
      Well done on solving this exercise!
  .next-block
    %h3
      =graphical_icon("question-circle")
      What's next?

    -if @solution.published?
      / Show nothing atm

    -elsif @solution.completed?
      .next-option
        %p
          %strong Publish this solution.
          Learning from each otherâ€™s attempts is a crucial part of Exercism. By making your solution public, other Exercism users will be able to find it and learn from your ideas.

        =link_to "Publish your solution", [:publish, :my, @solution, publish: 1], method: :patch, class: 'pure-button'

    -else
      .next-option
        %p
          %strong Complete this solution.
          If you're happy with this solution, you can mark it as completed.
        =link_to "Complete this solution", complete_my_solution_path(@solution), method: :patch, class: 'pure-button js-disable-on-click', remote: true

    .next-option
      -if @user_track.mentoring_slots_remaining?
        %p
          %strong Request mentor feedback.
          Mentoring is disabled by default in Independent Mode. However, you can request feedback on a maximum of one solution at a time.
        =link_to "Request mentor feedback on this solution", request_mentoring_my_solution_path(@solution), method: :patch, class: 'pure-button'
      -else
        %p
          %strong Request mentor feedback (disabled).
          Mentoring is disabled by default in Independent Mode. However, you can request feedback on a maximum of one solution at a time.
        =link_to "Request mentor feedback on this solution", "#", class: 'pure-button disabled', disabled: true

    .next-option
      %p
        %strong Explore more solutions to #{@exercise.title}.
        There are lots of different ways to approach every exercise on Exercism. Why not see how others have solved it?

      =link_to "View community solutions", track_exercise_solutions_path(@track, @exercise), class: 'pure-button'

    -if num_avaliable_core_exercises.size > 0 || num_avaliable_side_exercises.size > 0
      .next-option
        %p
          %strong Carry on coding.
          You have
          -if num_avaliable_core_exercises > 0
            #{pluralize num_avaliable_core_exercises, "core exercise"}
            -if num_avaliable_side_exercises > 0
              and
          -if num_avaliable_side_exercises > 0
            #{pluralize num_avaliable_side_exercises, "side exercise"}
          that you have not yet completed on this track. Why not try a new challenge?

        =link_to "Choose next exercise", my_track_path(@track), class: 'pure-button'


